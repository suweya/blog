<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Protocol Buffers | 迷途</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Protocol Buffers是Google公司开发的一种数据描述语言，类似于XML能够将结构化数据序列化，可用于数据存储、通信协议等方面。它不依赖于语言和平台并且可扩展性极强。现阶段官方支持C++、JAVA、Python等三种编程语言，但可以找到大量的几乎涵盖所有语言的第三方拓展包。通过它，你可以定义你的数据的结构，并生成基于各种语言的代码。这些你定义的数据流可以轻松地在传递并不破坏你已有的程">
<meta property="og:type" content="article">
<meta property="og:title" content="Protocol Buffers">
<meta property="og:url" content="http://blog.suweya.net/2015/05/06/Protocol-Buffers/">
<meta property="og:site_name" content="迷途">
<meta property="og:description" content="Protocol Buffers是Google公司开发的一种数据描述语言，类似于XML能够将结构化数据序列化，可用于数据存储、通信协议等方面。它不依赖于语言和平台并且可扩展性极强。现阶段官方支持C++、JAVA、Python等三种编程语言，但可以找到大量的几乎涵盖所有语言的第三方拓展包。通过它，你可以定义你的数据的结构，并生成基于各种语言的代码。这些你定义的数据流可以轻松地在传递并不破坏你已有的程">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Protocol Buffers">
<meta name="twitter:description" content="Protocol Buffers是Google公司开发的一种数据描述语言，类似于XML能够将结构化数据序列化，可用于数据存储、通信协议等方面。它不依赖于语言和平台并且可扩展性极强。现阶段官方支持C++、JAVA、Python等三种编程语言，但可以找到大量的几乎涵盖所有语言的第三方拓展包。通过它，你可以定义你的数据的结构，并生成基于各种语言的代码。这些你定义的数据流可以轻松地在传递并不破坏你已有的程">

  
    <link rel="alternative" href="/atom.xml" title="迷途" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>

  <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?5ff76dba172ffefae7010fd357566dc1";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img lazy-src="http://7xjc23.com1.z0.glb.clouddn.com/avatar.png" class="js-avatar">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">迷途</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/suweya" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/suweya" title="weibo">weibo</a>
					        
								<a class="google" target="_blank" href="https://plus.google.com/101772966739687843526/posts" title="google">google</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Android/" style="font-size: 20.00px;">Android</a><a href="/tags/Android-Animation/" style="font-size: 10.00px;">Android Animation</a><a href="/tags/Android-Widget/" style="font-size: 10.00px;">Android Widget</a><a href="/tags/Google/" style="font-size: 10.00px;">Google</a><a href="/tags/Image/" style="font-size: 10.00px;">Image</a><a href="/tags/Markdown/" style="font-size: 10.00px;">Markdown</a><a href="/tags/Plan-2015/" style="font-size: 10.00px;">Plan 2015</a><a href="/tags/Polymer/" style="font-size: 10.00px;">Polymer</a><a href="/tags/Widget/" style="font-size: 10.00px;">Widget</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">记录学习点滴   Email -&gt; suweya@foxmail.com</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">迷途</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://7xjc23.com1.z0.glb.clouddn.com/avatar.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">迷途</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/suweya" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/suweya" title="weibo">weibo</a>
			        
						<a class="google" target="_blank" href="https://plus.google.com/101772966739687843526/posts" title="google">google</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-Protocol-Buffers" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/05/06/Protocol-Buffers/" class="article-date">
  	<time datetime="2015-05-06T09:12:40.000Z" itemprop="datePublished">5月 6 2015</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Protocol Buffers
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Google/">Google</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Protocol Buffers是Google公司开发的一种数据描述语言，类似于XML能够将结构化数据序列化，<br>可用于数据存储、通信协议等方面。它不依赖于语言和平台并且可扩展性极强。<br>现阶段官方支持C++、JAVA、Python等三种编程语言，但可以找到大量的几乎涵盖所有语言的第三方拓展包。<br>通过它，你可以定义你的数据的结构，并生成基于各种语言的代码。<br>这些你定义的数据流可以轻松地在传递并不破坏你已有的程序。并且你也可以更新这些数据而现有的程序也不会受到任何的影响。<br>Protocol Buffers经常被简称为protobuf。</p>
<a id="more"></a>


<p>What Are Protocol Buffers?</p>
<p>Protocol buffers are Google’s language-neutral, platform-neutral, extensible mechanism for serializing structured data – think XML, but smaller, faster, and simpler. You define how you want your data to be structured once, then you can use special generated source code to easily write and read your structured data to and from a variety of data streams and using a variety of languages – Java, C++, or Python.</p>
<p>The download provides the complete source code for the protocol buffer compiler and all the classes your generated code needs, together with building and installation instructions.</p>
<h2 id="Protocol_Buffer_Basics:_Java">Protocol Buffer Basics: Java</h2>
<p>This tutorial provides a basic Java programmer’s introduction to working with protocol buffers. By walking through creating a simple example application, it shows you how to</p>
<ul>
<li>Define message formats in a .proto file.</li>
<li>Use the protocol buffer compiler.</li>
<li>Use the Java protocol buffer API to write and read messages.</li>
</ul>
<h2 id="Why_Use_Protocol_Buffers?">Why Use Protocol Buffers?</h2>
<ul>
<li>Protocol buffers are the flexible, efficient, automated solution to solve exactly this problem.</li>
</ul>
<h2 id="Where_to_Find_the_Example_Code">Where to Find the Example Code</h2>
<p>The example code is included in the source code package, under the “examples” directory. <a href="https://github.com/google/protobuf" target="_blank" rel="external">Download it here.</a></p>
<h2 id="Defining_Your_Protocol_Format">Defining Your Protocol Format</h2>
<p>To create your address book application, you’ll need to start with a .proto file. The definitions in a .proto file are simple: you add a message for each data structure you want to serialize, then specify a name and a type for each field in the message. Here is the .proto file that defines your messages, addressbook.proto.</p>
<pre><code>  <span class="keyword">package</span> tutorial;

  <span class="keyword">option</span> java_package = <span class="string">"com.example.tutorial"</span>;
  <span class="keyword">option</span> java_outer_classname = <span class="string">"AddressBookProtos"</span>;

  <span class="class"><span class="keyword">message</span> <span class="title">Person</span> </span>{
    <span class="keyword">required</span> <span class="built_in">string</span> name = <span class="number">1</span>;
    <span class="keyword">required</span> <span class="built_in">int32</span> id = <span class="number">2</span>;
    <span class="keyword">optional</span> <span class="built_in">string</span> email = <span class="number">3</span>;

    <span class="class"><span class="keyword">enum</span> <span class="title">PhoneType</span> </span>{
<span class="constant">      MOBILE</span> = <span class="number">0</span>;
<span class="constant">      HOME</span> = <span class="number">1</span>;
<span class="constant">     WORK</span> = <span class="number">2</span>;
    }

<span class="class"><span class="keyword">message</span> <span class="title">PhoneNumber</span> </span>{
  <span class="keyword">required</span> <span class="built_in">string</span> number = <span class="number">1</span>;
  <span class="keyword">optional</span> PhoneType type = <span class="number">2</span> [default = HOME];
}

<span class="keyword">repeated</span> PhoneNumber phone = <span class="number">4</span>;
  }

  <span class="class"><span class="keyword">message</span> <span class="title">AddressBook</span> </span>{
    <span class="keyword">repeated</span> Person person = <span class="number">1</span>;
  }
</code></pre><p>As you can see, the syntax is similar to C++ or Java. Let’s go through each part of the file and see what it does.</p>
<h2 id="Compiling_Your_Protocol_Buffers">Compiling Your Protocol Buffers</h2>
<p><a href="https://developers.google.com/protocol-buffers/docs/javatutorial" target="_blank" rel="external">Detial</a></p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/05/07/AbsListView-OnScrollListener/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          AbsListView OnScrollListener
        
      </div>
    </a>
  
  
    <a href="/2015/05/05/activity-anim/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Window Activity Fragment 切换动画</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="post-Protocol-Buffers" data-title="Protocol Buffers" data-url="http://blog.suweya.net/2015/05/06/Protocol-Buffers/"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'suweya'};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
      </script>
    <!-- 多说公共JS代码 end -->
  </section>
  


</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 迷途
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/mobile.js" type="text/javascript"></script>

<script src="/js/main.js" type="text/javascript"></script>







  </div>
</body>
</html>